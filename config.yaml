# ============================================
# NAVIGATOR - CENTRALIZED CONFIGURATION
# ============================================
# All tunable parameters in one place
# Modify values here to adjust app behavior

# ============================================
# PERFORMANCE & OPTIMIZATION
# ============================================
performance:
  # Target FPS for smooth experience
  target_fps: 60                    # range: 30-120
  
  # Performance mode auto-switch thresholds
  fps_high_threshold: 50            # Switch to medium below this
  fps_medium_threshold: 30          # Switch to low below this
  
  # Idle detection
  idle_timeout_ms: 15000            # Time before entering idle mode (15s)
  idle_enabled: true                # Enable/disable idle system
  
  # Level of Detail (LOD) system
  lod:
    enabled: true
    max_visible_cards: 5            # Max cards to keep in DOM
    blur_distance_cards: true       # Apply blur to non-active cards
    
  # Resource loading
  lazy_load_images: true            # Lazy load card images
  lazy_load_threshold: "200px"      # Load images X pixels before visible

# ============================================
# GESTURE DETECTION
# ============================================
gestures:
  # Hand detection sensitivity
  detection:
    min_detection_confidence: 0.7   # range: 0.5-0.95 (higher = more strict)
    min_tracking_confidence: 0.5    # range: 0.3-0.95
    model_complexity: 1             # 0=lite, 1=full (recommended)
    max_num_hands: 1                # Detect only 1 hand for performance
  
  # Gesture recognition thresholds
  recognition:
    # Swipe detection
    swipe:
      min_distance: 0.08            # Minimum hand movement (0-1 normalized)
      max_time_ms: 800              # Max time for valid swipe
      cooldown_ms: 300              # Cooldown between swipes
      
    # Point gesture (focus mode)
    point:
      hold_duration_ms: 2000        # Hold point for 2s to activate focus
      stability_threshold: 0.02     # Max movement allowed while pointing
      
    # Fist gesture
    fist:
      enabled: true
      min_confidence: 0.75          # Fist detection confidence
      
    # Open hand gesture
    open_hand:
      enabled: true
      finger_spread_threshold: 0.15 # Min distance between fingers
      
    # Pinch gesture
    pinch:
      enabled: true
      max_distance: 0.05            # Max distance thumb-index for pinch
  
  # Grid Lock System (stabilization)
  grid_lock:
    enabled: true
    cell_size: 0.15                 # Grid cell size (0-1 normalized)
    accumulator_decay: 0.85         # Decay rate for accumulated movement
    intent_threshold: 0.3           # Threshold to register intent
    dead_zone: 0.05                 # Central dead zone (no movement)
    
  # Predictive tracking
  predictive:
    enabled: true
    smooth_factor: 0.7              # range: 0-1 (higher = smoother but slower)
    prediction_frames: 3            # Frames to predict ahead

# ============================================
# NAVIGATION BEHAVIOR
# ============================================
navigation:
  # Card navigation
  cards:
    transition_duration_ms: 600     # Animation duration
    ease_function: "cubic-bezier(0.4, 0, 0.2, 1)"
    
    # Carousel 3D settings
    active_scale: 1.0               # Scale of active card
    side_cards_scale: 0.75          # Scale of adjacent cards
    side_cards_opacity: 0.5         # Opacity of adjacent cards
    side_cards_rotation_deg: 45     # Rotation angle (Y-axis)
    side_cards_offset_x: 600        # Horizontal offset (pixels)
    side_cards_offset_z: -400       # Depth offset (pixels)
    
  # Layer navigation
  layers:
    transition_duration_ms: 800
    ease_function: "cubic-bezier(0.23, 1, 0.32, 1)"
    
  # Momentum/inertia
  momentum:
    enabled: true
    friction: 0.92                  # range: 0.8-0.98 (higher = longer momentum)
    min_velocity: 0.01              # Stop below this velocity
    velocity_multiplier: 0.5        # Amplify swipe velocity
    
  # Initial state
  initial_layer: "video"            # Starting layer
  initial_card_index: 0             # Starting card (0-based)

# ============================================
# ADAPTIVE SYSTEM
# ============================================
adaptive:
  enabled: true
  
  # Leveling system
  levels:
    starting_level: 1
    max_level: 5
    xp_per_level: 100               # XP needed per level
    
    # XP rewards
    xp_swipe_success: 10
    xp_layer_change: 15
    xp_gesture_combo: 25
    xp_precision_bonus: 5           # For very accurate gestures
    
  # Difficulty scaling
  difficulty:
    level_1:
      gestures: ["swipe"]           # Only basic swipes
      speed_multiplier: 0.8         # Slower required gestures
    level_2:
      gestures: ["swipe", "pinch"]
      speed_multiplier: 0.9
    level_3:
      gestures: ["swipe", "pinch", "fist", "open_hand"]
      speed_multiplier: 1.0
    level_4:
      gestures: ["swipe", "pinch", "fist", "open_hand", "point"]
      speed_multiplier: 1.1
    level_5:
      gestures: ["all"]
      speed_multiplier: 1.2

# ============================================
# AUDIO FEEDBACK
# ============================================
audio:
  enabled: true
  master_volume: 0.3                # range: 0.0-1.0
  
  # Individual volumes
  volumes:
    navigation: 0.4                 # Card swipe sounds
    success: 0.5                    # Success feedback
    error: 0.3                      # Error feedback
    ambient: 0.2                    # Background ambient (if enabled)
    
  # Spatial audio
  spatial:
    enabled: true
    pan_range: 0.7                  # range: 0-1 (max stereo separation)
    
  # Audio types
  feedback:
    card_select: true               # Sound on card change
    layer_change: true              # Sound on layer change
    gesture_detect: true            # Sound on gesture detected
    error_sound: true               # Sound on invalid action

# ============================================
# VISUAL EFFECTS
# ============================================
visual_effects:
  # Enable/disable effect systems
  enabled: true
  performance_mode: "medium"        # low | medium | high
  
  # Particle systems
  particles:
    enabled: false                  # Disabled for performance (can enable)
    max_particles: 100
    
  # Light beams (Akira style)
  light_beams:
    enabled: false                  # Disabled for performance
    duration_ms: 600
    
  # Card blur overlay
  blur:
    enabled: true
    inactive_cards_blur: 12         # pixels
    inactive_cards_brightness: 0.6  # range: 0-1
    inactive_cards_saturation: 0.3  # range: 0-1
    
  # Gesture LED indicator
  gesture_led:
    enabled: true
    pulse_duration_ms: 300
    colors:
      idle: "#333333"
      detecting: "#00ffff"
      success: "#00ff00"
      error: "#ff0000"

# ============================================
# USER INTERFACE
# ============================================
ui:
  # HUD visibility
  hud:
    top_bar: true
    bottom_bar: true
    compact_mode: true              # Use compact panels
    
  # HUD update frequency
  update_frequency_ms: 100          # Update HUD every 100ms
  
  # Debug mode
  debug:
    enabled: false                  # Show debug info
    show_fps: false                 # Show FPS counter
    show_gesture_data: false        # Show raw gesture data
    console_logging: true           # Log to console
    
  # Start screen
  start_screen:
    show_tutorial: true             # Show tutorial on first run
    auto_start: false               # Skip start screen (for dev)

# ============================================
# CAMERA & MEDIAPIPE
# ============================================
camera:
  # Video constraints
  width: 640                        # Camera resolution width
  height: 480                       # Camera resolution height
  facing_mode: "user"               # "user" (front) | "environment" (back)
  frame_rate: 30                    # Target frame rate
  
  # MediaPipe optimization
  mediapipe:
    static_image_mode: false
    max_num_hands: 1
    model_complexity: 1             # 0=lite, 1=full
    min_detection_confidence: 0.7
    min_tracking_confidence: 0.5

# ============================================
# ACCESSIBILITY
# ============================================
accessibility:
  # Reduced motion
  respect_prefers_reduced_motion: true
  
  # Keyboard navigation
  keyboard:
    enabled: true
    arrows_navigate_cards: true
    page_up_down_layers: true
    
  # Voice commands
  voice:
    enabled: false                  # Requires browser support
    wake_word: "navigator"

# ============================================
# DEVELOPER OPTIONS
# ============================================
developer:
  # Hot reload config (future feature)
  hot_reload: false
  
  # Mock gestures (for testing without camera)
  mock_gestures: false
  
  # Performance monitoring
  monitor_performance: true
  log_slow_frames: true             # Log frames below target FPS
  
  # Error handling
  show_error_overlay: true
  detailed_errors: true

# ============================================
# FEATURE FLAGS
# ============================================
features:
  # Enable/disable major features
  gesture_navigation: true
  keyboard_navigation: true
  mouse_navigation: true            # Click/drag support
  voice_commands: false
  onboarding_wizard: false          # Not yet implemented
  
  # Experimental features
  experimental:
    app_state_integration: false    # Use new AppState.js
    error_handler_integration: false # Use new ErrorHandler.js
    idle_system: false              # Auto-pause when idle
    multi_hand_support: false       # Support 2 hands (future)

# ============================================
# CONTENT LAYERS
# ============================================
# Note: This section mirrors js/config.js
# Eventually we'll load from here instead
layers:
  video:
    label: "Videos"
    icon: "üé¨"
    cards: 4
  news:
    label: "News"
    icon: "üì∞"
    cards: 4
  images:
    label: "Images"
    icon: "üñºÔ∏è"
    cards: 4
  games:
    label: "Games"
    icon: "üéÆ"
    cards: 4
  apps:
    label: "Apps"
    icon: "üì±"
    cards: 4
  settings:
    label: "Settings"
    icon: "‚öôÔ∏è"
    cards: 4

# ============================================
# TUNING PRESETS
# ============================================
# Quick preset configurations for different use cases

presets:
  # Maximum performance (minimal effects)
  performance:
    performance.target_fps: 60
    visual_effects.enabled: false
    visual_effects.particles.enabled: false
    visual_effects.light_beams.enabled: false
    gestures.predictive.enabled: true
    navigation.momentum.enabled: false
    
  # Maximum quality (all effects)
  quality:
    performance.target_fps: 60
    visual_effects.enabled: true
    visual_effects.particles.enabled: true
    visual_effects.light_beams.enabled: true
    visual_effects.performance_mode: "high"
    
  # Accessibility focused
  accessible:
    gestures.recognition.swipe.min_distance: 0.06  # Easier swipes
    gestures.recognition.swipe.cooldown_ms: 500    # More time
    navigation.cards.transition_duration_ms: 800   # Slower animations
    accessibility.respect_prefers_reduced_motion: true
    
  # Precision focused (for demos/testing)
  precision:
    gestures.grid_lock.cell_size: 0.1              # Smaller grid
    gestures.grid_lock.intent_threshold: 0.4       # Higher threshold
    gestures.detection.min_detection_confidence: 0.8
    gestures.recognition.swipe.min_distance: 0.12  # Longer swipes
    
  # Development mode
  development:
    ui.debug.enabled: true
    ui.debug.show_fps: true
    ui.debug.show_gesture_data: true
    developer.monitor_performance: true
    ui.start_screen.auto_start: true

# ============================================
# ACTIVE PRESET
# ============================================
# Uncomment to activate a preset
# active_preset: "performance"
# active_preset: "quality"
# active_preset: "accessible"
active_preset: "precision"
# active_preset: "development"
